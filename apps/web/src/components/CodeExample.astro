---
---

<section class="py-24 bg-background overflow-hidden border-b border-border relative transition-colors duration-300">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 relative z-10">
    <div class="grid gap-12 lg:grid-cols-2 lg:items-center">
      
      <!-- Text Side -->
      <div class="max-w-xl">
        <div class="inline-flex items-center gap-2 mb-6 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 shadow-[0_0_10px_-3px_rgba(16,185,129,0.3)]">
            <div class="w-1.5 h-1.5 bg-emerald-400 rounded-full animate-pulse shadow-[0_0_8px_rgba(52,211,153,0.6)]"></div>
            <span class="font-mono text-xs text-emerald-400 uppercase tracking-widest">Live Connection</span>
        </div>
        
        <h2 class="text-3xl font-bold text-foreground md:text-5xl mb-6 tracking-tight">
          Zero friction.<br/>
          <span class="text-muted">Just primitives.</span>
        </h2>
        <p class="text-lg text-muted mb-8 leading-relaxed">
           Stop wrestling with complex configuration files and "magic" frameworks. Define agents with pure code.
        </p>
        
        <div class="grid grid-cols-3 gap-3 sm:gap-4 font-mono text-xs text-muted max-w-md">
            <div class="border border-border rounded-md px-3 py-3 bg-surface flex flex-col gap-1 text-center sm:text-left">
                <span class="text-foreground font-bold text-sm sm:text-base">2</span>
                <span class="text-[10px] tracking-wider opacity-70">IMPORTS</span>
            </div>
            <div class="border border-border rounded-md px-3 py-3 bg-surface flex flex-col gap-1 text-center sm:text-left">
                <span class="text-foreground font-bold text-sm sm:text-base">~10</span>
                <span class="text-[10px] tracking-wider opacity-70">LOC</span>
            </div>
             <div class="border border-border rounded-md px-3 py-3 bg-surface flex flex-col gap-1 text-center sm:text-left">
                <span class="text-foreground font-bold text-sm sm:text-base">100%</span>
                <span class="text-[10px] tracking-wider opacity-70">TYPED</span>
            </div>
        </div>
      </div>

      <!-- Terminal Side -->
      <div class="relative w-full min-w-0">
        <!-- Window Frame -->
        <div class="bg-[#1e1e1e] rounded-t-xl border border-white/10 flex items-center justify-between px-4 py-3 shadow-2xl relative z-10">
            <div class="flex items-center gap-2">
                <div class="w-3 h-3 rounded-full bg-[#ff5f56]"></div>
                <div class="w-3 h-3 rounded-full bg-[#ffbd2e]"></div>
                <div class="w-3 h-3 rounded-full bg-[#27c93f]"></div>
            </div>
            <div class="absolute left-0 right-0 text-center pointer-events-none">
                 <span class="text-[12px] font-sans text-white/40 font-medium">agent.ts</span>
            </div>
        </div>

        <!-- Editor Area -->
        <div class="bg-[#1e1e1e] border-x border-b border-white/10 rounded-b-xl p-0 min-h-[300px] relative font-mono text-xs sm:text-sm shadow-2xl overflow-hidden z-10">
            <div class="flex overflow-hidden">
                <!-- Line Numbers -->
                <div class="w-10 sm:w-12 py-6 text-right pr-3 text-white/20 select-none border-r border-white/5 leading-[1.75] text-[11px] shrink-0 bg-[#1e1e1e]">
                    1<br/>2<br/>3<br/>4<br/>5<br/>6<br/>7<br/>8<br/>9<br/>10<br/>11<br/>12
                </div>

                <!-- Code Content Wrapper with horizontal scroll -->
                <div class="flex-1 overflow-x-auto py-6">
                    <div class="pl-4 pr-6 min-w-max text-white/90">
                         <pre class="leading-[1.75] font-mono whitespace-pre"><code id="typewriter" class="language-typescript"></code><span id="cursor" class="animate-pulse inline-block h-4 w-[2px] bg-emerald-400 align-middle ml-0.5 shadow-[0_0_8px_rgba(52,211,153,0.8)]"></span></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Decorative Glow -->
        <div class="absolute -inset-2 bg-gradient-to-r from-emerald-500/20 to-blue-500/20 rounded-xl blur-2xl -z-0 opacity-50 user-select-none pointer-events-none"></div>
      </div>

    </div>
  </div>
</section>

<style>
    /* Custom Syntax Highlighting for the dark terminal */
    :global(.token-keyword) { color: #c678dd; } /* Purple */
    :global(.token-string) { color: #98c379; } /* Green */
    :global(.token-comment) { color: #5c6370; font-style: italic; } /* Gray */
    :global(.token-function) { color: #61afef; } /* Blue */
    :global(.token-method) { color: #56b6c2; } /* Cyan */
    :global(.token-default) { color: #abb2bf; } /* White */
</style>

<script is:inline>
  const KEYWORDS = ['import', 'from', 'const', 'await'];

  function tokenize(text) {
    const tokens = [];
    let i = 0;

    while (i < text.length) {
      if (text.slice(i, i + 2) === '//') {
        let end = text.indexOf('\n', i);
        if (end === -1) end = text.length;
        tokens.push({ type: 'token-comment', value: text.slice(i, end) });
        i = end;
        continue;
      }

      if (text[i] === '"') {
        let end = text.indexOf('"', i + 1);
        if (end === -1) end = text.length;
        tokens.push({ type: 'token-string', value: text.slice(i, end + 1) });
        i = end + 1;
        continue;
      }

      if (/[a-zA-Z_]/.test(text[i])) {
        let word = '';
        let start = i;
        while (i < text.length && /[a-zA-Z0-9_]/.test(text[i])) {
          word += text[i];
          i++;
        }
        const isCall = text[i] === '(';
        const isMethod = start > 0 && text[start - 1] === '.';

        if (KEYWORDS.includes(word)) {
          tokens.push({ type: 'token-keyword', value: word });
        } else if (isMethod) {
          tokens.push({ type: 'token-method', value: word });
        } else if (isCall && (word === 'agent' || word === 'gemini')) {
          tokens.push({ type: 'token-function', value: word });
        } else {
          tokens.push({ type: 'token-default', value: word });
        }
        continue;
      }

      tokens.push({ type: 'token-default', value: text[i] });
      i++;
    }
    return tokens;
  }

  // Split import keyword to verify if this fixes Vite resolution error
  const code = `im` + `port { agent } from "@chorus/core";
im` + `port { gemini } from "@chorus/gemini";

// define your agent
const researcher = agent()
  .name("researcher")
  .model(gemini("gemini-pro"))
  .system("You are a senior analyst.")
  .build();

// run it
await researcher.run("Analyze Q4 trends");`;

  const typewriter = document.getElementById('typewriter');
  const cursor = document.getElementById('cursor');
  const tokens = tokenize(code);
  let tokenIndex = 0;
  let charIndex = 0;

  function createSpan(className, text) {
    const span = document.createElement('span');
    span.className = className;
    span.textContent = text;
    return span;
  }

  let currentSpan = null;

  function type() {
    if (!typewriter) return;

    if (tokenIndex >= tokens.length) {
      if (cursor) cursor.classList.add('opacity-0');
      return;
    }

    const token = tokens[tokenIndex];

    if (charIndex === 0) {
      currentSpan = createSpan(token.type, '');
      typewriter.appendChild(currentSpan);
    }

    currentSpan.textContent += token.value[charIndex];
    charIndex++;

    if (charIndex >= token.value.length) {
      tokenIndex++;
      charIndex = 0;
    }

    const lastChar = currentSpan.textContent.slice(-1);
    const delay = lastChar === '\n' ? 80 : Math.random() * 20 + 8;
    setTimeout(type, delay);
  }

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && typewriter && typewriter.childNodes.length === 0) {
        setTimeout(type, 500);
      }
    });
  }, { threshold: 0.3 });

  if (typewriter) observer.observe(typewriter);
</script>
